@using PhoneShop.Models;
@{
    ViewData["Title"] = "CheckOut";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@{


    List<ImageProduct> IsCourseContents = ViewBag.imageproduct;


}
<style>
    .search-form {
        display: flex;
        align-items: center; /* Canh giữa theo chiều dọc */
        gap: 10px; /* Khoảng cách giữa các input */
    }

    .search-input {
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
        width: 300px; /* Chiều rộng của ô tìm kiếm */
        font-size: 16px;
    }

    .search-button {
        padding: 10px 15px;
        border: none;
        border-radius: 5px;
        background-color: #28a745; /* Màu nền xanh */
        color: white; /* Màu chữ trắng */
        font-size: 16px;
        cursor: pointer; /* Con trỏ chuột */
        transition: background-color 0.3s; /* Hiệu ứng chuyển màu */
    }

        .search-button:hover {
            background-color: #218838; /* Màu nền khi hover */
        }
    .payment_methods {
        list-style-type: none;
        padding: 0;
        margin: 0;
    }

        .payment_methods .payment_method_bacs,
        .payment_methods .payment_method_paypal {
            border: 1px solid #e1e1e1;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

            .payment_methods .payment_method_bacs h3,
            .payment_methods .payment_method_paypal h3 {
                margin: 0 10px;
                font-size: 1.2em;
            }

        .payment_methods .input-radio {
            margin-right: 10px;
        }

        .payment_methods label img {
            margin-left: 10px;
            height: 50px;
            vertical-align: middle;
        }

        .payment_methods .payment_box {
            display: none;
        }

</style>
<br />



<div class="single-product-area" style="padding-top:0px">
    <div class="container" style="background:white">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb" style="background:white;padding:10px">
                <li class="breadcrumb-item" style="font-size: 18px;"><a href="/~">Trang chủ</a></li>
                <li class="breadcrumb-item active" style="font-size: 18px;" aria-current="page">Giỏ hàng</li>
                <li class="breadcrumb-item active" style="font-size: 18px;" aria-current="page">Quá trình đặt hàng</li>
            </ol>
        </nav>
        <div class="zigzag-bottom"></div>
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <div class="single-sidebar">
                        <h2 class="sidebar-title">Tìm kiếm</h2>
                        <form class="search-form" method="post" asp-action="Search_Product" asp-controller="Product">
                            <input type="text" name="search_value" class="search-input" placeholder="Nhập sản phẩm...">
                            <input type="submit" value="gửi" class="search-button">
                        </form>
                    </div>

                   
                </div>

                <div class="col-md-8">
                    <div class="product-content-right">
                        <div class="woocommerce">



                            <form enctype="multipart/form-data" asp-action="SubmitCheckOut" asp-controller="Cart" class="checkout" method="post" name="checkout">

                                <div id="customer_details" class="col2-set">
                                    <div class="col-1">
                                        <div class="woocommerce-billing-fields">
                                            <h3>Thông tin nhận hàng</h3>


                                            <div class="input-group">
                                                <label>Sử dụng địa chỉ mặc định </label>
                                                <select style="padding: 8px" name="OptionAddress" class="form-control" onchange="toggleAddressFields()">
                                                    <option value="1">Có</option>
                                                    <option value="0">Không</option>
                                                </select>
                                            </div>

                                            <div id="address-fields" style="display: none;">
                                                <p id="billing_first_name_field" class="form-row form-row-first validate-required">
                                                    <label class="" for="billing_first_name">
                                                        Tên người đặt hàng <abbr title="required" class="required">*</abbr>
                                                    </label>
                                                    <input type="text" value="" placeholder="Tên người nhận" id="billing_first_name" name="Order_Name" class="input-text ">
                                                </p>

                                                <p id="billing_first_name_field" class="form-row form-row-first validate-required">
                                                    <label class="" for="billing_first_name">
                                                        Địa chỉ <abbr title="required" class="required">*</abbr>
                                                    </label>
                                                    <input type="text" value="" placeholder="Chi tiết địa chỉ" id="billing_first_name" name="Address" class="input-text ">
                                                </p>

                                                <p id="billing_first_name_field" class="form-row form-row-first validate-required">
                                                    <label class="" for="billing_first_name">
                                                        Ghi chú <abbr title="required" class="required">*</abbr>
                                                    </label>
                                                    <input type="text" value="" placeholder="Ghi chú" id="billing_first_name" name="Description" class="input-text ">
                                                </p>

                                                <p id="billing_first_name_field" class="form-row form-row-first validate-required">
                                                    <label class="" for="billing_first_name">
                                                        loại địa chỉ <abbr title="required" class="required">*</abbr>
                                                    </label>
                                                    <select name="AddressType" class="form-control tinh" style="height:60px">
                                                        <option value="1">Chỗ ở cá nhân</option>
                                                        <option value="2">Nơi làm việc</option>
                                                        <option value="3">Khác</option>
                                                    </select>

                                                </p>

                                                <p id="billing_first_name_field" class="form-row form-row-first validate-required">
                                                    <label class="" for="billing_first_name">
                                                        Số điện thoại <abbr title="required" class="required">*</abbr>
                                                    </label>
                                                    <input type="text" value="" placeholder="Số điện thoại" id="billing_first_name" name="Phone" class="input-text ">
                                                </p>
                                                <p id="billing_first_name_field" class="form-row form-row-first validate-required">
                                                    <label class="" for="billing_first_name">
                                                        Email <abbr title="required" class="required">*</abbr>
                                                    </label>
                                                    <input type="text" value="" placeholder="Email" id="billing_first_name" name="Email" class="input-text ">
                                                </p>
                                            </div>

                                            <label>Phương thức thanh toán</label>
                                            <ul class="payment_methods methods">
                                                <li class="payment_method_bacs">
                                                    <input type="radio" data-order_button_text="" checked="checked" value="1" name="PaymentMethod" class="input-radio" id="payment_method_bacs"> <h4>Thanh toán khi nhận hàng</h4>

                                                    <div class="payment_box payment_method_bacs">
                                                        @* <p>Make your payment directly into our bank account. Please use your Order ID as the payment reference. Your order won’t be shipped until the funds have cleared in our account.</p> *@
                                                    </div>
                                                </li>

                                                <li class="payment_method_paypal">
                                                    <input type="radio" data-order_button_text="Proceed to PayPal" value="2" name="PaymentMethod" class="input-radio" id="payment_method_paypal"> <h4>Thanh toán Vnpay</h4>
                                                    <label for="payment_method_paypal">
                                                        <img style="height:50px" alt="VnPay Acceptance Mark" src="https://tse4.mm.bing.net/th?id=OIP.4oRk_vgGa02V8Wdv2zUuawHaHa&pid=Api&P=0&h=220">
                                                    </label>

                                                </li>

                                                <li class="payment_method_paypal">
                                                    <input type="radio" data-order_button_text="Proceed to PayPal" value="3" name="PaymentMethod" class="input-radio" id="payment_method_paypal"> <h4>Thanh toán MoMo</h4>
                                                    <label for="payment_method_paypal">
                                                        <img style="height:50px" alt="VnPay Acceptance Mark" src="https://news.appotapay.com/wp-content/uploads/2022/01/cong-thanh-toan-momo-cac-hinh-thuc-tich-hop-huong-dan-tich-hop.jpg">
                                                    </label>
                                                </li>
                                            </ul>



                                        </div>
                                    </div>




                                </div>

                                <h3 id="order_review_heading">Đơn hàng của bạn</h3>

                                <div id="order_review" style="position: relative;">
                                    <table class="shop_table">
                                        @*  <thead>
                                        <tr>
                                        <th class="product-name">Product</th>
                                        <th class="product-total">Total</th>
                                        </tr>
                                        </thead> *@

                                        <tfoot>

                                            @*  <tr class="cart-subtotal"> *@
                                            @*        <th>Cart Subtotal</th>
                                            <td>
                                            <span class="amount">£15.00</span>
                                            </td>
                                            </tr>

                                            <tr class="shipping">
                                            <th>Shipping and Handling</th>
                                            <td>

                                            Free Shipping
                                            <input type="hidden" class="shipping_method" value="free_shipping" id="shipping_method_0" data-index="0" name="shipping_method[0]">
                                            </td>
                                            </tr> *@


                                            <tr class="order-total">
                                                <th>Tổng đơn hàng</th>
                                                <td>
                                                    <strong>
                                                        <span class="amount" style="color:red">

                                                            @PhoneShop.Extension.Extension.ToVnd((double)ViewBag.GrandTotal)
                                                        </span>
                                                    </strong>
                                                </td>
                                            </tr>

                                        </tfoot>
                                    </table>


                                   
                                </div>

                                <div class="form-row place-order">

                                    <input type="submit" data-value="Place order" value="Đặt hàng" id="place_order" name="woocommerce_checkout_place_order" class="button alt">


                                </div>

                                <div class="clear"></div>
                            </form>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</div>

@section Scripts{

    <script>
        function toggleAddressFields() {
            var optionAddress = document.querySelector('select[name="OptionAddress"]');
            var addressFields = document.getElementById('address-fields');

            if (optionAddress.value === '0') {
                addressFields.style.display = 'block';
            } else {
                addressFields.style.display = 'none';
            }
        }
    </script>

}



