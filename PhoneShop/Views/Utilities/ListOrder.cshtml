@model List<PhoneShop.ModelViews.OrderViewModel>
@{
    ViewData["Title"] = "ListOrder";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .profile-header {
        margin-bottom: 20px;
        font-size: 24px;
        color: #333;
        text-align: center;
    }
    table {
        border-collapse: collapse;
        width: 100%;
    }

    th, td {
        padding: 8px;
        text-align: left;
        border-bottom: 1px solid #ddd;
    }

    th {
        background-color: #f2f2f2;
    }
</style>
<link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
@await Component.InvokeAsync("MenuUtilities")

<div class="container" style="min-height:600px; width:1000px;padding-top:20px">

    <div class="row">




        <h1 class="profile-header">Danh sách đơn hàng của tôi</h1>


        <table>
            <thead>
                <tr>
                    <th>Mã Đơn Hàng</th>
                    <th>Phương thức thanh toán</th>
                    <th>Ngày đặt hàng</th>
                   
                    <th>Tổng tiền</th>

                </tr>
            </thead>
            <tbody>
                @foreach (var i in Model)
                {
                    <tr>
                        <td><a class="Detail_Order_Account" href="#" data-id_or="@i.Id_Order" >@i.Id_Order (Xem)</a></td>
                        @if (i.PaymentMethod == 1)
                        {
                            <td>khi nhận hàng</td>
                        }
                        else if (i.PaymentMethod == 3)
                        {
                            <td>MoMo</td>
                        }
                        else
                        {
                            <td>VnPay</td>
                        }
                        <td>@i.Order_Date</td>
                       
                        <td>@PhoneShop.Extension.Extension.ToVnd((double)i.Total_Order)</td>

                    </tr>
                }


            </tbody>
        </table>




    </div>
</div>
<div id="dialog">
    <iframe id="myiframe" style="border:0;width:100%;height:100%"></iframe>
</div>
@section Scripts{

    <script>
        $(document).ready(function () {

            //dialog anh

            $("#dialog").dialog({
                autoOpen: false,
                show: "fade",
                hide: "fade",
                modal: true,
                height: '600',
                width: '700',
                resizable: true,
                title: '',
                close: function () {
                    window.location.reload();
                }
            });        
            $('body').on('click', '.Detail_Order_Account', function () {

                var orderid = $(this).attr("data-id_or");
                $("#dialog #myiframe").attr("src", "/Order/Index?id_order=" + orderid);
                $("#dialog").dialog('open');
                return false;

            });


        });


    </script>

}
