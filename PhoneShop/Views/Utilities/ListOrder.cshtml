@model List<PhoneShop.ModelViews.OrderViewModel>
@{
    ViewData["Title"] = "ListOrder";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .profile-container {
        background-color: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        max-width: 1000px;
        width: 100%;
        margin: auto
    }
    .profile-header {
        margin-bottom: 20px;
        font-size: 24px;
        color: #333;
        text-align: center;
    }
    table {
        border-collapse: collapse;
        width: 100%;
    }

    th, td {
        padding: 8px;
        text-align: left;
        border-bottom: 1px solid #ddd;
    }

    th {
        background-color: #f2f2f2;
    }
</style>
<link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
@await Component.InvokeAsync("MenuUtilities")

<div class="profile-container" style="min-height:600px; width:1000px">

    <div class="row" style="background:white;min-height:500px">


        <h1 class="profile-header">Đơn Hàng Của Tôi</h1>

        @if(Model.Count > 0)
        {
            


            <table>
                <thead>
                    <tr>
                        <th>Mã Đơn Hàng</th>
                        <th>Phương thức thanh toán</th>
                        <th>Ngày đặt hàng</th>



                    </tr>
                </thead>
                <tbody>
                    @foreach (var i in Model)
                    {
                        <tr>
                            <td><a class="Detail_Order_Account" href="#" data-id_or="@i.Id_Order">@i.Id_Order (Xem)</a></td>
                            @if (i.PaymentMethod == 1)
                            {
                                <td>Khi Nhận Hàng</td>
                            }
                            else if (i.PaymentMethod == 3)
                            {
                                <td>MoMo</td>
                            }
                            else
                            {
                                <td>VnPay</td>
                            }
                            <td>@i.Order_Date.ToString("dd/MM/yyyy HH:mm")</td>



                        </tr>
                    }


                </tbody>
            </table>
        }
        else
        {
            <p style="padding:20px;color:red">Hiện chưa có đơn hàng</p>
        }




    </div>
</div>
<div id="dialog">
    <iframe id="myiframe" style="border:0;width:100%;height:100%"></iframe>
</div>
@section Scripts{

    <script>
        $(document).ready(function () {

            //dialog anh

            $("#dialog").dialog({
                autoOpen: false,
                show: "fade",
                hide: "fade",
                modal: true,
                height: '600',
                width: '900',
                resizable: true,
                title: '',
                close: function () {
                    window.location.reload();
                }
            });        
            $('body').on('click', '.Detail_Order_Account', function () {

                var orderid = $(this).attr("data-id_or");
                $("#dialog #myiframe").attr("src", "/Order/Index?id_order=" + orderid);
                $("#dialog").dialog('open');
                return false;

            });


        });


    </script>

}
